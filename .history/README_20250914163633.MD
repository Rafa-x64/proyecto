# Proyecto MVC en PHP – Base Modular para Aplicaciones Web

Este repositorio contiene una aplicación web estructurada bajo el patrón **Modelo-Vista-Controlador** (MVC), diseñada para facilitar el desarrollo escalable, seguro y mantenible de interfaces dinámicas en PHP. A continuación se detallan las secciones clave del sistema y las instrucciones para su instalación, uso y extensión.

## Índice de navegación

| Nº | Sección                                     | Enlace interno                          |
|----|---------------------------------------------|-----------------------------------------|
| 1  | Propósito y descripción funcional           | [Ir a sección](#1-propósito-y-descripción-funcional) |
| 2  | Público objetivo y tecnologías utilizadas   | [Ir a sección](#2-público-objetivo-y-tecnologías-utilizadas) |
| 3  | Instalación y configuración                 | [Ir a sección](#3-instalación-y-configuración) |
| 4  | Estructura del proyecto                     | [Ir a sección](#4-estructura-del-proyecto) |
| 5  | Flujo de ejecución                          | [Ir a sección](#5-flujo-de-ejecución) |
| 6  | Convenciones de desarrollo                  | [Ir a sección](#6-convenciones-de-desarrollo) |
| 7  | Frontend                                    | [Ir a sección](#7-frontend) |
| 8  | Backend                                     | [Ir a sección](#8-backend) |
| 9  | Reutilización y helpers                     | [Ir a sección](#9-reutilización-y-helpers) |
| 10 | Testing y depuración                        | [Ir a sección](#10-testing-y-depuración) |
| 11 | Seguridad y buenas prácticas                | [Ir a sección](#11-seguridad-y-buenas-prácticas) |
| 12 | Colaboración y control de versiones         | [Ir a sección](#12-colaboración-y-control-de-versiones) |
| 13 | Documentación adicional                     | [Ir a sección](#13-documentación-adicional) |
| 14 | Extensión y mantenimiento                   | [Ir a sección](#14-extensión-y-mantenimiento) |
| 15 | Conclusión                                  | [Ir a sección](#15-conclusión) |

## 1. Propósito y descripción funcional

Este proyecto sirve como _plantilla base_ para construir aplicaciones web en PHP con una arquitectura modular. Su objetivo principal es:

- **Separar claramente** la lógica de negocio, la presentación y el control de flujo.

- **Permitir la carga dinámica de vistas** mediante URLs amigables, gestionadas por `.htaccess`.

- **Facilitar la reutilización** de componentes HTML, scripts y estilos para mantener una interfaz coherente y eficiente.

- **Centralizar la configuración y seguridad** mediante constantes globales definidas en los módulos `APP` y `SERVER`.

> `💡 Este enfoque modular permite escalar el sistema sin romper la base, facilitando el trabajo colaborativo y la extensión progresiva del proyecto.`

## 2. Público objetivo y tecnologías utilizadas

Dirigido a: Desarrolladores web en entornos PHP que necesiten una base estructurada para sistemas administrativos, sitios informativos o prototipos funcionales.

#### Tecnologías principales

- **PHP 8+** — Programación orientada a objetos para mayor claridad y reutilización.
- **Apache + .htaccess** — Reescritura de URLs y control de acceso desde el servidor.
- **Composer** — Gestión de dependencias y autoloading eficiente.
- **Bootstrap 5** — Frontend responsivo con componentes reutilizables.
- **JavaScript** — Interactividad y manipulación dinámica del DOM.
- **PDO** — Acceso seguro a bases de datos mediante prepared statements.
- **AJAX** — Peticiones asíncronas sin recargar la página.
- **OpenSSL** — Encriptación de datos sensibles para mayor seguridad.

> `💡 Este stack está diseñado para acelerar el desarrollo seguro y modular de aplicaciones web.`

## 3. Instalación y configuración

#### Requisitos:

- **PHP 8.0** o superior
- **Apache** (_incluido en XAMPP_)
- **Composer**

> `💡 Asegúrate de tener estos componentes activos antes de iniciar la instalación.`

#### Pasos:

1. Clonar el repositorio en la carpeta `htdocs`:

   ```bash
   git clone https://github.com/usuario/proyecto.git
   cd proyecto
   composer install
   ```

2. Acceder a `"https://localhost/proyecto/".`

#### Configuración inicial:

   -**config/SERVER:** contiene credenciales, claves de encriptación y parámetros de seguridad.

   -**config/APP:** contiene constantes generales como nombre del sistema y rutas base.

> `💡 Revisa estos archivos antes de desplegar en producción. Puedes parametrizar según entorno (dev, staging, prod).`

## 4. Estructura del proyecto

El sistema está organizado en módulos funcionales.

#### Carpetas pensadas para extensión:

- view/html: nuevas vistas

- assets/components: componentes HTML reutilizables

- helpers/js y helpers/php: funciones compartidas

- docs: documentación técnica

> `💡Algunos archivos no deben modificarse directamente (.htaccess, composer.lock, index.php, vendor/, SERVER/).`

## 5. Flujo de ejecución

#### Ruta de carga de vistas:

    index.php → vista_controller.php → vista_model.php → plantilla.php → layouts + vista

- .htaccess reescribe URLs como index.php?page=nombre.

- vista_controller interpreta el parámetro page.

- vista_model valida la existencia de la vista.

- plantilla.php integra layouts (header, footer, etc.) y la vista solicitada.

## 6. Convenciones de desarrollo

    1. Archivos en minúsculas con guiones bajos (vista_controller.php).

    2. Funciones en camelCase (cargarVista, encriptarDato).

    3. Vistas nombradas como nombre-view.php.

    4. Nuevas vistas deben registrarse en vista_model.php.

## 7. Frontend

- Bootstrap puede usarse localmente (copiado desde vendor/) o por CDN.

- Layouts (header.php, footer.php, links.php, scripts.php) se integran automáticamente.

- Componentes HTML se ubican en assets/components.

- Scripts y estilos específicos se colocan en view/js y view/css.

## 8. Backend

- mainModel contiene métodos comunes: conexión, encriptación, hashing, validación.

- Modelos específicos extienden de mainModel.

- Constantes globales (APP, SERVER) se incluyen automáticamente.

- Seguridad: OpenSSL, password_hash, validación de tipos, uso de prepare en SQL.

## 9. Reutilización y helpers

El proyecto incluye un conjunto de funciones reutilizables para facilitar el desarrollo. Estas funciones están organizadas en dos directorios principales:

#### helpers/js:

Contiene funciones de JavaScript que se pueden reutilizar en el frontend para tareas comunes como la manipulación del DOM, validaciones del lado del cliente, o peticiones asíncronas.

#### helpers/php:

Incluye funciones auxiliares de PHP para diversas tareas, como la validación de datos, el formateo de información, la generación de tokens de seguridad y otras utilidades.

> `💡Estas funciones se pueden cargar en tu código mediante la instrucción require_once o, en algunos casos, pueden ser incluidas directamente desde scripts.php`.

## 10. Testing y depuración

**Probar vistas**: Accede directamente a cada vista mediante la URL:

    https://localhost/proyecto/?page=nombre

`💡Esto permite verificar que la vista se carga correctamente y que los componentes se integran como se espera.`

**Activar errores en desarrollo**: Agrega las siguientes líneas en index.php o en el archivo de configuración para mostrar errores durante el desarrollo:

```php
error_reporting(E_ALL);
ini_set("display_errors", 1);
```

#### Herramientas recomendadas para depuración:

- Consola del navegador (inspección de errores JS, red, DOM)

- Registros del servidor en el panel de XAMPP

- Funciones de inspección en PHP: var_dump(), print_r()

## 11. Seguridad y buenas prácticas

**Archivos protegidos** (no modificar directamente):

- .htaccess

- composer.lock

- vendor/

- config/SERVER/

Estos archivos controlan el enrutamiento, las dependencias, las librerías externas y la configuración sensible del sistema. Modificarlos sin conocimiento técnico puede comprometer la estabilidad o seguridad del proyecto.

#### Manejo de credenciales y datos sensibles:

Las credenciales de base de datos, claves de encriptación y parámetros de seguridad se definen en config/SERVER.

Estos datos deben mantenerse fuera del control de versiones (por ejemplo, usando .gitignore si el proyecto se publica).

> `💡Nunca deben imprimirse en pantalla ni exponerse en el frontend.`

#### Recomendaciones de seguridad:

- Validar todas las entradas del usuario antes de procesarlas.

- Utilizar consultas preparadas (prepare + execute) para evitar inyecciones SQL.

- Hashear contraseñas con password_hash antes de almacenarlas.

- Encriptar datos sensibles con OpenSSL usando claves definidas en SERVER.

## 12. Colaboración y control de versiones

#### Reglas de trabajo en equipo:

1.  Cada desarrollador debe trabajar en una rama propia, creada a partir de la versión más reciente de la rama principal (master).

2.  Antes de iniciar cualquier desarrollo, se debe sincronizar con master para evitar conflictos.

3.  Las pull requests deben ser revisadas antes de fusionarse, asegurando que no se sobrescriba el trabajo de otros colaboradores.

4.  No se debe trabajar directamente sobre master sin revisión previa.

Comandos recomendados para flujo de trabajo con git:

```bash
# Actualizar la rama principal
git checkout master
git pull origin master

# Crear una nueva rama para trabajar
git checkout -b mi-rama

# Agregar y confirmar cambios
git add .
git commit -m "Descripción del cambio"

# Subir la rama al repositorio remoto
git push origin mi-rama

# Antes de hacer pull request, sincronizar con master
git checkout master
git pull origin master
git checkout mi-rama
git merge master

# Subir los cambios fusionados
git push origin
```

> `💡Este flujo garantiza que cada contribución esté basada en la versión más reciente del proyecto y que las integraciones se realicen de forma segura y ordenada.`

## 13. Documentación adicional

#### Contenido de la carpeta docs/:

- **cosas_pendientes.txt** Lista de tareas por completar, mejoras sugeridas o funcionalidades en desarrollo.

- **estructura_proyecto.txt** Descripción jerárquica de la arquitectura del sistema, útil para onboarding y revisión técnica.

- **manual_desarrollador.txt** Guía técnica completa que documenta el funcionamiento del sistema, buenas prácticas y convenciones de desarrollo.

#### Recomendaciones:

- Todo nuevo documento debe ser claro, descriptivo y ubicarse dentro de la carpeta docs/.

- El archivo README.md debe mantenerse actualizado con cada cambio relevante en el sistema, especialmente cuando se agregan funcionalidades, se modifica la estructura o se actualizan los requisitos técnicos.

> `💡Es responsabilidad de todos actuallizar la documentacion del proyecto con forme se hagan cambios`

## 14. Extensión y mantenimiento

#### Agregar nuevas vistas:

1. Crear el archivo en view/html con el nombre nombre-view.php.

2. Registrar el nombre de la vista en el arreglo paginas_existentes dentro de vista_model.php para que el sistema la reconozca.

#### Agregar nuevos modelos:

1. Ubicar el archivo en model/.

2. Extender de mainModel para heredar métodos comunes como conexión, encriptación, validación y hashing.

#### Agregar nuevos controladores:

1. Crear el archivo en controller/.

2. Integrarlo al flujo de ejecución si se requiere lógica adicional para una vista o módulo específico.

#### Uso de Composer:

Para actualizar todas las dependencias:

```bash
composer update
```

Para instalar una nueva dependencia:

```bash
composer require nombre/paquete
```

#### Escalabilidad del sistema:

- Organizar módulos por dominio funcional (ejemplo: usuarios, reportes, productos).

- Integrar plugins externos mediante Composer o manualmente si son independientes.

- Definir rutas dedicadas en .htaccess para flujos específicos o módulos aislados.

## 15. Conclusión

Este manual proporciona una guía completa para comprender, utilizar y extender el sistema de forma segura y colaborativa. La claridad, la modularidad y la responsabilidad compartida son pilares fundamentales del proyecto. Se recomienda mantener este documento actualizado y utilizarlo como referencia principal durante el desarrollo.
